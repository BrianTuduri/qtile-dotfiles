---
# tasks file for kafka_run_connect
  
- name: "Execute Kafka Connect in {{ kafka_connect_mode }} mode for the {{ kafka_environment }} environment"
  shell: |
    nohup sh {{ kafka_bin_directory }}/connect-{{ kafka_connect_mode }}.sh {{ kafka_config_directory }}/{{ kafka_connect_properties_file }} {% for file in kafka_connect_config_files %}{{ kafka_config_directory }}/{{ file }} {% endfor %}&
  args:
    chdir: "{{ kafka_bin_directory }}"
  when: kafka_connect_mode == 'standalone' or kafka_connect_mode == 'distributed'
